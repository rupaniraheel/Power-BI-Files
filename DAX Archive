7DMA Total Sales =
AVERAGEX( 
	DATESINPERIOD( 
		Dates[Date] , 
		LASTDATE( Dates[Date] ), // row by row date
		-7,
		DAY),
	[Total Sales]
)

SPLY Sales = 
	CALCULATE([Total Sales] , SAMEPERIODLASTYEAR(Dates[Date]))
